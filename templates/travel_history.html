{% extends 'base.html' %}
{% load static %}

{% block title %}
<title>Ride</title>
{% endblock title %}

{% block integration %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
{% endblock integration %}

{% block content %}
{% if duration %}
<section class="container">
  <div class="row mt-5">
      <div class="col-md-6 offset-md-3">
          <div class="bg-light p-4">
              <h3 class="mb-4 text-center">Selected Route and Duration</h3>
              <div class="row">
                  <div class="col-md-6">
                      <div class="form-group">
                          <label for="origin"><b>Origin:</b></label>
                          <p class="form-control-static" id="origin">{{origin}}</p>
                      </div>
                      <div class="form-group">
                          <label for="duration"><b>Est. Duration:</b></label>
                          <p class="form-control-static" id="duration">{{duration}}</p>
                      </div>
                  </div>
                  <div class="col-md-6">
                      <div class="form-group">
                          <label for="destination"><b>Destination</b></label>
                          <p class="form-control-static" id="destination">{{destination}}</p>
                      </div>
                      <div class="form-group">
                          <label for="distance"><b>Est. Distance:</b></label>
                          <p class="form-control-static" id="distance">{{distance}}</p>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</section>
{% endif %}

<section class="container">
  <div style="text-align: center;" class='mt-5 text-success bg-light'>
      <h1 class="p-5">Travel History </h1>
  <div>
  {% if trips %}
  <div style="width:80%; margin:auto;" class="py-5">
    <table class="table table-striped table-bordered table-hover">
        <thead class="thead-light">
            <tr style="text-align:center;">
              <th scope="col">Vehicle</th>
              <th scope="col">Driver</th>
              <th scope="col">Started</th>
              <th scope="col">Ended</th>
              <th scope="col">Distance</th>
              <th scope="col">Duration</th>
              <th scope="col">Fare</th>
            </tr>
        </thead>
        <tbody style="text-align:center;">
            {% for trip in trips %}
            <tr>
                <td scope="row"><img src="{{trip.vehicle.image.url}}" alt="" style="width: 100px;"></td>
              <td scope="row">{{trip.driver.first_name}} {{trip.driver.last_name}}</td>
              <td scope="row">{{trip.start_from}} <br> at {{trip.initiated}}</td>
              <td scope="row">{{trip.end_to}} <br> at {{trip.finished}} </td>
              <td scope="row">{{trip.distance}}</td>
              <td scope="row">{{trip.duration}}</td>
              <td scope="row">{{trip.fare}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
  </div>
  {% else %}
  <div style="text-align: center;" class='mt-5 py-5 text-danger bg-light'>
      <h1>Nothing to Show</h1>
  </div>
  {% endif %}
</section>
{% endblock content %}


{% block scripts %}
{% endblock scripts %}

